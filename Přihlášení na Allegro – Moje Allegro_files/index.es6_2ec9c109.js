const t="Mark",e="navigation",n={once:!0,passive:!0,capture:!0},r="addEventListener",a="a.allegroimg.com",o=["allegro.pl","assets.allegrostatic.com",a],{from:s,isArray:i}=Array,{assign:c,keys:l,entries:u}=Object,{min:d,round:m,max:p}=Math,f=t=>t.length,h=t=>window.requestAnimationFrame(t),g=()=>performance.now(),y=(t,e,n)=>({category:"Performance",label:t,value:e,customParams:n}),b=t=>t.startTime,v="pinter:",k="main-start",S="main-end",T="onhide-start",E="onhide-end",w=(t,e)=>e.mark(v+t),P=e=>{const[n,r]=e.name.split("@");return y(t,n,c({st:m(b(e))},r?{sr:r}:{}))},I=(t,e=window)=>{null!==t&&"function"==typeof e.cm&&e.cm("send","event",t)},x=t=>e=>t.querySelectorAll(e),L=t=>e=>t.getElementsByTagName(e),B=(t,e=!1)=>{if(!t)return"";const n=t.getAttribute("id");if(n)return"#"+n;const r=t.getAttribute("name");if(r)return`[name="${r}"]`;let a="",o="";!e&&t.parentNode&&t.parentNode.closest&&(o=B(t.parentNode.closest("[id], [name], [data-box-name]"),!0));const s=t.getAttribute("data-role");if(s&&(a+=`[data-role="${s}"]`),!a){const e=t.getAttribute("data-box-name");a+=e?`[data-box-name="${e}"]`:t.tagName}return o&&(a=`${o} ${a}`),a},F=(t,e,a)=>{((t,e,a={})=>{t[r]("visibilitychange",e,c(n,a))})(t,(()=>{(({visibilityState:t})=>"visible"===t)(t)||e()}),a)},R=t=>(t=>t.opbox.performance)(t).firstHidden,N=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"];function A(t){const e=(({timing:t})=>N.map((e=>t[e])))(t),[n,...r]=e;return r.map((t=>((t,e)=>{const n=e-t;return!e||e<0||t<0||n<0?-1:n})(n,t)))}const $="script",z=$+":not([src])",C="style",M="link",j="noscript",W=t=>t.join(","),U=1e3;function O(t){return"number"==typeof t&&t>=0?d(m(t*U),1e6):-1}const _=RegExp(`^https://(${o.join("|")})/`),q=/.css($|\?)/;function D(t){let e=0,n=0,r=0,a=0,o=0,s=0;return t.forEach((t=>{a+=t.encodedBodySize||0,o+=t.transferSize||0,"blocking"===t.renderBlockingStatus&&(s+=1),t.transferSize>0?n+=1:t.encodedBodySize>0?e+=1:r+=1})),[e,n,r,a,o,s]}const H=["navigate","reload","back_forward","prerender"];function G(t=self,e=Date.now,n=40){const r=e();let a=0,o=0;for(;o<n;)o=e()-r,parseInt(""+a,10)===a&&(a+=1);t.postMessage(~~(a/1e3))}const J={},K=t=>{J[t]=[]},Q=t=>t.disconnect(),V=(t,e,n,r)=>{const a=c({type:e,once:!1,buffered:!0},r);try{if(t.supportedEntryTypes.includes(e)){const r=(t=>e=>{(t=>{const{target:e,element:n,url:r}=t,a=e||n;(a||r)&&(t.selector=((t,e=null)=>{if(!t||!t.closest)return e?`IMG[src="${e}"]`:"";const n=t.closest("a, button, [data-analytics-clickable]")||t;return B(n)})(a,r))})(e),J[t].push(e)})(e),o=new t((t=>{t.getEntries().forEach(r),n&&n(J[e]),a.once&&Q(o)}));K(e),o.observe(a);const s=(t=!0)=>(o.takeRecords().forEach(r),t&&Q(o),(t=>{const e=J[t]||[];return K(t),e})(e));return s}}catch(o){}return()=>[]};let X=0;const Y=window.performance;w(k,Y),(t=>{const{performance:n,document:o}=t,s=n.getEntriesByType.bind(n),[c={}]=s(e);F(o,(()=>{w(T,n),I((t=>y("NavigationTiming",null,{m:A(t),v:1}))(n)),I((({document:t,navigator:n,performance:r},o)=>{const s=(t=>t.reduce(((t,e)=>{const[n,r,o,s,i,c,l]=t,{name:u,initiatorType:d}=e;switch(d){case"img":case"image":s.push(e);break;case"link":u.match(q)&&n.push(e);break;case"script":u.match(_)?r.push(e):o.push(e);break;case"iframe":c.push(e);break;case"video":i.push(e);break;case"css":if(u.endsWith(".woff2")){l.push(e);break}if(u.startsWith("https://"+a)){s.push(e);break}if(u.endsWith(".svg")){s.push(e);break}}return t}),[[],[],[],[],[],[],[]]))(o),i=((t,n,r)=>{const[a,o,s,i,c,l]=r.map((t=>new Set(t.map((t=>t.name))).size)),u=L(t),d=L(t.body),m=x(t),p=x(t.body),[h={}]=((t,e)=>t.getEntriesByType(e))(n,e),g=f(m(z));return[u("*"),t.documentElement.innerHTML,h.encodedBodySize||-1,h.transferSize||-1,u(C),a,g,o+s,i,c,l,m(W(["meta",j,"head","base","title",$,M,C])),f(d("*"))-f(p(W([M,C,$,j])))].map((t=>t.length||t))})(t,r,s),[c,l,...u]=(t=>{if("object"!=typeof t.connection)return[,,,,,].fill(null);const{type:e="",effectiveType:n="",downlinkMax:r=-1,downlink:a=-1,rtt:o=-1}=t.connection;return[e,n,O(r),O(a),o]})(n),d=(t=>{const e=e=>{const[n]=t.getEntriesByName(e,"paint");return n?m(b(n)):-1};return[e("first-paint"),e("first-contentful-paint")]})(r),[p,h,g,v,k,S,T]=s.map(D);return y("ResourceInformation",null,{v:1,bs:[0],ds:i,nct:c,net:l,ns:u,ps:d,tst:p,tis:h,tes:g,tim:v,tvi:k,tif:S,tfo:T})})(t,s("resource"))),I((({type:t})=>y("NavigationType",H.indexOf(t)))(c)),w(E,n)})),t[r]("pageshow",(t=>{(async(t,e)=>{const n=await(async({persisted:t,timeStamp:e},n)=>t?new Promise((t=>{h((()=>{h((()=>{t([!0,{cp:m(g()-e)}])}))}))})):n.notRestoredReasons?[!1,{reasons:n.notRestoredReasons.reasons.map((({reason:t})=>t))}]:null)(e,t);return i(n)?y("BackForwardCache",...n):null})(c,t).then(I)})),t[r]("load",(()=>{((t=Worker)=>{if(!t)return Promise.reject();const e=new t((t=>{const e=new Blob([`(${G+""})()`],{type:"application/javascript"});return URL.createObjectURL(e)})());return new Promise(((t,n)=>{e.onmessage=({data:n})=>{e.terminate(),t(n)},e.onmessageerror=({message:t})=>{e.terminate(),n(t)},e.onerror=t=>{e.terminate(),n(t)}})).then((t=>y("Benchmark",t)))})().then(I)}))})(window),((e=window)=>{const n=e.document,r=e.PerformanceObserver;let a=null;((t,e,n,r=F)=>{const a=(t=>(e,n)=>{try{const{duration:r}=t.measure(null,v+e,v+n);return m(r)}catch(r){return null}})(t.performance);r(e,(()=>{const e=R(t);n(!1).forEach((({startTime:t,name:n})=>{"clientSideNavigationStart"===n?X=m(t):(t=>t.startsWith("TimeToInteractive"))(n)&&t<e&&I(P({name:n,startTime:m(t-X)}))})),(()=>{const t=a(k,S),e=a(T,E);I(y("PinterMarks",null,{md:t,hd:e}))})()}))})(e,n,V(r,"mark")),((e,n,r)=>{V(n,"first-input",(([n])=>{const{startTime:a,processingStart:o,name:s,selector:i}=n;a>R(e)||(I(y(t,"FirstInput",{st:m(a),d:o-a,n:s||"",el:i})),r(n))}),{once:!0})})(e,r,(t=>{a=t.interactionId,(t=>{if(!t)return;const e=(n=t())[f(n)-1];var n;e&&I(y("LargestContentfulPaint",e.url?"i":"t",{s:e.size,st:m(e.startTime),el:e.selector}))})(V(r,"largest-contentful-paint")),(t=>{if(!t)return;const e=t();if(!e.length)return;const n=e.reduce(((t,{duration:e,startTime:n})=>(t.sum+=e,t.startTimes.push(m(n)),t)),{sum:0,startTimes:[]});I(y("TotalBlockingTime",n.sum,{count:e.length,st:n.startTimes}))})(V(r,"longtask"))})),((t,e,n=F)=>{if(!e)return;let r,a=0;n(t,(()=>{const t=m(g());a+=e(!1).reduce(((t,{hadRecentInput:e,value:n})=>e?t:t+n),0);const n=parseFloat(a.toFixed(4));r!==n&&(I(y("CumulativeLayoutShift",n,{st:t})),r=n)}),{once:!1})})(n,V(r,"layout-shift")),((t,e,n,r,a=F)=>{if(!e)return;let o;a(t,(()=>{let t={duration:-1};e(!1).forEach((e=>{e.interactionId&&(e.duration>t.duration?(t.selector&&!e.selector&&e.interactionId===t.interactionId&&(e.selector=t.selector),t=e):!t.selector&&e.selector&&t.interactionId===e.interactionId&&(t.selector=e.selector))}));const a=n?n(!1).filter((e=>e.firstUIEventTimestamp===t.startTime)):[],{name:s,selector:i,duration:c,processingStart:l,processingEnd:u,startTime:d,interactionId:f}=t;if(c<0||o>=c)return;const h=p(u+4,d+c),g=a.map((t=>[t.duration,m(t.startTime),m(t.renderStart),t.blockingDuration,m(t.styleAndLayoutStart),t.scripts.map((t=>[t.invoker,t.invokerType,t.sourceURL,t.sourceFunctionName,t.sourceCharPosition,m(t.startTime),m(t.executionStart),m(t.duration),m(t.forcedStyleAndLayoutDuration)]))])),b=a.flatMap((t=>t.scripts)).reduce(((t,{sourceURL:e,duration:n})=>(0===e.length?t.inlineFirstParty+=n:e.startsWith("https://assets.allegrostatic.com/")?t.externalFirstParty+=n:t.thirdParty+=n,t)),{inlineFirstParty:0,externalFirstParty:0,thirdParty:0});I(y("InteractionToNextPaint",c,{st:m(d),id:m(l-d,0),pt:m(u-l,0),pd:m(h-u,0),n:s||"",el:i,fi:r()===f?1:0,pt_inline1p:m(b.inlineFirstParty),pt_external1p:m(b.externalFirstParty),pt_3p:m(b.thirdParty),lf:g})),o=c}),{once:!1})})(n,V(r,"event",null,{durationThreshold:40}),V(r,"long-animation-frame"),(()=>a))})(window),w(S,Y);
//# sourceMappingURL=index.es6_2ec9c109.js.map