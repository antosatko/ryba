var e,t,n,o,r,i=[(e,t,n)=>{n.d(t,{$:()=>J,$b:()=>Fe,A:()=>B,Ab:()=>me,B:()=>it,Bb:()=>ke,C:()=>S,Cb:()=>Ce,D:()=>E,Db:()=>ve,E:()=>st,Eb:()=>Te,F:()=>x,Fb:()=>ye,G:()=>P,Gb:()=>Le,H:()=>I,Hb:()=>qe,I:()=>O,Ib:()=>Pe,J:()=>V,Jb:()=>Ne,K:()=>$,Kb:()=>Ee,L:()=>M,Lb:()=>Oe,M:()=>R,Mb:()=>_t,N:()=>ut,Nb:()=>Ie,O:()=>D,Ob:()=>Be,P:()=>lt,Pb:()=>Ue,Q:()=>W,Qb:()=>Ae,R:()=>U,Rb:()=>ze,S:()=>dt,Sb:()=>xe,T:()=>A,Tb:()=>Se,U:()=>ct,Ub:()=>je,V:()=>z,Vb:()=>Me,W:()=>mt,Wb:()=>$e,X:()=>at,Xb:()=>Ve,Y:()=>Q,Yb:()=>Re,Z:()=>G,Zb:()=>We,_:()=>Z,_b:()=>De,a:()=>o,ab:()=>H,ac:()=>ht,b:()=>r,bb:()=>F,bc:()=>He,c:()=>i,cb:()=>ee,cc:()=>Je,d:()=>m,db:()=>X,dc:()=>Ze,e:()=>c,eb:()=>Y,ec:()=>Ge,f:()=>s,fb:()=>K,fc:()=>Xe,g:()=>a,gb:()=>te,gc:()=>Ke,h:()=>u,hb:()=>ne,hc:()=>Qe,i:()=>p,ib:()=>ae,ic:()=>Ye,j:()=>l,jb:()=>se,jc:()=>et,k:()=>d,kb:()=>ie,kc:()=>tt,l:()=>b,lb:()=>re,lc:()=>nt,m:()=>f,mb:()=>oe,mc:()=>ot,n:()=>y,nb:()=>be,nc:()=>rt,o:()=>w,ob:()=>pe,p:()=>k,pb:()=>bt,q:()=>v,qb:()=>ue,r:()=>_,rb:()=>pt,s:()=>h,sb:()=>_e,t:()=>g,tb:()=>he,u:()=>C,ub:()=>ge,v:()=>j,vb:()=>fe,w:()=>L,wb:()=>we,x:()=>q,xb:()=>de,y:()=>T,yb:()=>le,z:()=>N,zb:()=>ce});const o="m0qj_5r",r="mrmn_qo",i="mrhf_u8",s="msbw_rf",a="mldj_rf",m="mtag_rf",c="mm2b_rf",d="m911_5r",l="mefy_5r",u="mnyp_5r",p="mdwl_5r",b="mjyo_6x",_="mgmw_3z",h="mgmw_wo",g="mgmw_9u",f="msts_pt",w="msts_n7",y="msts_er",v="mgmw_u5g",k="mgmw_yu",C="mqen_m6",T="mpof_5r",q="mpof_92",L="mpof_ki",j="mpof_z0",S="m389_6m",x="mx4z_0a",E="m7f5_6m",N="myre_zn",P="mwdn_1",B="mr3m_1",I="mp0t_ji",O="mp0t_0a",z="mgn2_32",A="mgn2_27",U="mgn2_23",W="mgn2_21",D="mgn2_19",R="mgn2_16",M="mgn2_14",$="mgn2_13",V="mgn2_12",F="m9qz_yq",H="m9qz_yr",J="m9qz_yo",Z="m9qz_yp",G="m9qz_yu",Q="m9qz_ys",K="mse2_k4",X="mse2_56",Y="mse2_40",ee="m09p_40",te="mqvr_2",ne="mqu1_ae",oe="mqu1_1j",re="mqu1_g3",ie="mqu1_21",se="mqu1_16",ae="mqu1_1",me="mp4t_16",ce="mp4t_8",de="mp4t_0",le="mp4t_4",ue="mryx_16",pe="mryx_8",be="mryx_0",_e="mryx_48",he="munh_56",ge="munh_0",fe="m3h2_56",we="m3h2_0",ye="m2ha_2",ve="mjt1_n2",ke="m8qd_ie",Ce="m8qd_vz",Te="mjir_sv",qe="meqh_en",Le="mr0s_7s",je="mg9e_24",Se="mg9e_8",xe="mg9e_0",Ee="mj7a_24",Ne="mj7a_8",Pe="mj7a_0",Be="mh36_24",Ie="mh36_16",Oe="mh36_0",ze="mvrt_24",Ae="mvrt_16",Ue="mvrt_0",We="mp7g_oz",De="mp7g_oh",Re="mq1m_0",Me="mqm6_0",$e="mj7u_0",Ve="mnjl_0",Fe="mzmg_6m",He="mj9z_5r",Je="mhd5_0m",Ze="m6ax_n4",Ge="mli8_k4",Qe="mtsp_ib",Ke="mtsp_q9",Xe="mjsg_q9",Ye="m0ux_fp",et="m31c_kb",tt="mupj_5k",nt="msa3_z4",ot="m7er_k4",rt="mjb5_w1",it="m389_6m_s",st="mx4z_6m_s",at="mgn2_43_s",mt="mgn2_36_s",ct="mgn2_30_s",dt="mgn2_25_s",lt="mgn2_21_s",ut="mgn2_17_s",pt="mryx_24_s",bt="mryx_16_s",_t="mh36_16_s",ht="mzmg_7i_s"},(e,t,n)=>{n.d(t,{a:()=>p,b:()=>_,c:()=>i,d:()=>g,e:()=>l,f:()=>b,g:()=>u,h:()=>c,i:()=>s,j:()=>o,k:()=>r,l:()=>d,m:()=>h,n:()=>m,o:()=>a});const o="contentBlocker",r="#ContentBlockerPluginWrapper",i="/opbox-fragments/content-blocker",s="allegro.contentBlocker",a=[s],m="USER_CONSENT_CHANGED",c="ContentBlockerPluginLoginRedirect",d="show-content-blocker",l=9e5,u='[data-role="login-button"]',p='[data-role="close-button"]',b="invokeContentBlockerType",_="initiator",h="Tab",g="data-dark-mode-supported"}],s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return i[e](n,n.exports,a),n.exports}a.m=i,a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"login-redirect.es6-cs-CZ_"+a.h().slice(0,8)+".js",a.h=()=>"5eb52f45",a.o=(e,t)=>({}.hasOwnProperty.call(e,t)),e={},t="@allegro/opbox-content-blocker-plugin:",a.l=(n,o,r,i)=>{if(e[n])e[n].push(o);else{var s,m;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var l=c[d];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==t+r){s=l;break}}s||(m=!0,(s=document.createElement("script")).type="module",s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+r),s.src=n,0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous")),e[n]=[o];var u=(t,o)=>{s.onerror=s.onload=null,clearTimeout(p);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(o))),t)return t(o)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=u.bind(null,s.onerror),s.onload=u.bind(null,s.onload),m&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="https://assets.allegrostatic.com/sc-22987/",n=new Map,o=a.u,r=a.e,a.u=e=>{var t=n.get(e);return o(e)+(t?"?r"+t:"")},a.e=(e,t)=>(t||(t=0),(t?new Promise((n=>{setTimeout((()=>{n(r(e))}),300*t)})):Promise.resolve(r(e))).catch((o=>{if(t>=5)throw o;return n.set(e,++t),a.e(e,t)})).finally((()=>{n.delete(e)}))),(()=>{var e={57:0};a.f.j=(t,n)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=r);var i=a.p+a.u(t),s=Error();a.l(i,(n=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,o[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,r,[i,s,m]=n,c=0;if(i.some((t=>0!==e[t]))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);m&&m(a)}for(t&&t(n);c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackJsonp_e9a4f=self.webpackJsonp_e9a4f||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var m=a(1);const c={alcohol:{preferenceName:"alcoholContentAllowed",expiresIn:m.e,requiresLogin:!0},alcoholZero:{preferenceName:"alcoholZeroContentAllowed",expiresIn:null,requiresLogin:!1},erotic:{preferenceName:"eroticContentAllowed",expiresIn:m.e,requiresLogin:!1}},d=e=>e in c,l=e=>{var t;return(null==(t=c[e])?void 0:t.expiresIn)||null},u=(e,t)=>new URL(e).searchParams.get(t)||void 0;var p=a(0);const b=p.v+" "+p.Hb+" "+p.l+" k10d5 "+p.Sb+" "+p.Pb+" "+p.Ib+" "+p.Lb+" "+p.xb+" "+p.wb+" "+p.nb+" "+p.ub+" "+p.mc+" "+p.fb+" _c712d_Bypcm",_=["USER_CONSENT_CHANGED"];class h{constructor(e,t,n,o,r=[]){this.isDarkModeSupported=void 0,this.pluginWrapper=void 0,this.subscribers={},this.countdownIds={},this.contentBlockerWrapper=void 0,this.hideLoaderIfNeeded=()=>{this.onLoadContentTypeBlocker&&this.window.document.body.classList.remove(...b.split(" "))},this.window=e,this.scopeId=t,this.isUserAuthenticated=n,this.onLoadContentTypeBlocker=o,this.allowedContentTypes=r,this.pluginWrapper=this.window.document.querySelector(m.k),this.isDarkModeSupported="true"===this.pluginWrapper.getAttribute(m.d),this.allowedContentTypes.forEach((e=>{l(e)&&this.initiateCountdown(e)}));const i=this.getOpenOnLoadSearchParams();if(i){this.removeOpenOnLoadSearchParams();const{contentType:e,initiator:t}=i;r.includes(e)||this.show(e,t)}else o&&!r.includes(o)&&this.show(o,"onLoad")}getOpenOnLoadSearchParams(e=this.window.location.href){const t=u(e,m.f),n=u(e,m.b);if(t&&n)return{contentType:t,initiator:n}}removeOpenOnLoadSearchParams(){const e=new URL(this.window.location.href);[m.f,m.b].forEach((t=>e.searchParams.delete(t))),this.window.history.replaceState({},"",e.toString())}renderLoginRedirect(e,t="user"){a.e(59).then(a.bind(a,3)).then((({LoginRedirect:n})=>{this.hideLoaderIfNeeded(),new n(this.window,this.scopeId,this.pluginWrapper,this.isDarkModeSupported,e,t).mount()}))}show(e,t="user"){d(e)&&(this.isUserAuthenticated||!(e=>c[e].requiresLogin)(e)?this.showContentBlocker(e,t):this.renderLoginRedirect(e,t))}showContentBlocker(e,t){var n;if(this.contentBlockerWrapper=this.window.document.querySelector(`[data-prototype-id="${m.i}"]`),null!=(n=this.contentBlockerWrapper)&&n.querySelector(`[data-preference-name=${(e=>{var t;return null==(t=c[e])?void 0:t.preferenceName})(e)}]`)){this.hideLoaderIfNeeded();const e=new CustomEvent(m.l);this.contentBlockerWrapper.dispatchEvent(e)}else this.window.opbox.page.render.fragment({pathname:m.c,additionalQueryParameters:{contentType:e,initiator:t}}).then((()=>{this.hideLoaderIfNeeded()}))}subscribeToEvent(e,t){(e=>_.includes(e))(e)&&(this.subscribers[e]||(this.subscribers[e]=new Set),this.subscribers[e].add(t))}unsubscribeFromEvent(e,t){var n,o;null!=(n=this.subscribers[e])&&n.has(t)&&(null==(o=this.subscribers[e])||o.delete(t))}__reportUserConsentDecision({prototypeName:e,contentType:t,consentValue:n}){m.o.includes(e)&&(n&&l(t)&&this.initiateCountdown(t),this.notifySubscribers({eventType:m.n,contentType:t,consentValue:n}))}notifySubscribers(e){if(this.subscribers[e.eventType])for(const t of this.subscribers[e.eventType])t(e)}initiateCountdown(e){!this.countdownIds[e]&&l(e)&&(this.countdownIds[e]=this.window.setTimeout((()=>{this.notifySubscribers({eventType:m.n,contentType:e,consentValue:!1}),this.onLoadContentTypeBlocker&&this.show(e,"onLoad"),delete this.countdownIds[e]}),l(e)))}getPublicApi(){return{show:this.show.bind(this),subscribeToEvent:this.subscribeToEvent.bind(this),unsubscribeFromEvent:this.unsubscribeFromEvent.bind(this),__reportUserConsentDecision:this.__reportUserConsentDecision.bind(this)}}}var g;const f=(({pluginName:e,clientImplementationVersion:t})=>{try{return JSON.parse(window.document.querySelector(`script[data-serialize-plugin-name="${e}"][data-civ="${t}"]`).textContent)}catch(n){return window.opbox.reportError(Error(`Missing serialized props of plugin "${e}", with civ "${t}"`)),{}}})({pluginName:m.j,clientImplementationVersion:"9a2"});if(null!=(g=f.contentBlockerConfiguration)&&g.enabled){const{scopeId:e,isUserAuthenticated:t,onLoadContentBlockerType:n,allowedContentTypes:o}=(e=>{const{contentAllowedPreferences:t,contentBlockerConfiguration:n,isUserAuthenticated:o,scopeId:r}=e,i=[];let s;return t&&Object.entries(t).filter((([,e])=>e)).forEach((([e])=>{const t=(e=>Object.keys(c).find((t=>{var n;return(null==(n=c[t])?void 0:n.preferenceName)===e})))(e);t&&i.push(t)})),null!=n&&n.showContentType&&d(n.showContentType)&&(s=n.showContentType),{onLoadContentBlockerType:s,allowedContentTypes:i,isUserAuthenticated:o,scopeId:r||"allegro-pl"}})(f);window.opbox.plugin.register({name:m.j},new h(window,e,t,n,o).getPublicApi())}
//# sourceMappingURL=index.es6-cs-CZ_5eb52f45.js.map